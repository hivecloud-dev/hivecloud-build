<project name="hivelog-cte" basedir="../../">

	<!-- adiciona o ant-contrib, biblioteca que disponibiliza diversos comando adicionais ao ant -->
	<taskdef resource="net/sf/antcontrib/antlib.xml"
			 classpath="${user.home}/.m2/repository/ant-contrib/ant-contrib/1.0b3/ant-contrib-1.0b3.jar"/>

	<!-- Propriedades do Build runtime-->
	<property name="build.projeto" value="${env.PROJETO}"/>
	<property name="build.acao" value="${env.ACAO}"/>
	<property name="build.pastaArtefato" value="${env.ARTEFATO}"/>
	<property name="build.id" value="${env.CODEBUILD_BUILD_ID}"/>
	<property name="build.source" value="${env.CODEBUILD_SOURCE_VERSION}"/>
	<property name="build.tstamp" value="${env.CODEBUILD_START_TIME}"/>

	<target name = "do-magic" description="metodo inicial">

		<echo>${build.projeto}</echo>
		<echo>${build.acao}</echo>
		<echo>${build.pastaArtefato}</echo>
		<echo>${build.id}</echo>
		<echo>${build.source}</echo>
		<echo>${build.tstamp}</echo>
		<echo>${ARTEFATOFOLDER}</echo>

		<exec executable="/bin/sh" failonerror="true">
			<arg value="-c" />
			<arg value="dir"/>
		</exec>

		<exec executable="/bin/sh" failonerror="true">
			<arg value="-c" />
			<arg value="dir ${build.pastaArtefato}"/>
		</exec>

		<fail>Tem que falhar, se nao vou precisar rodar o build todas as vezes</fail>

	</target>
</project>


